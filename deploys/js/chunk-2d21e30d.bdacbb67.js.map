{"version":3,"sources":["webpack:///./views/widgets/goto.vue?e5b1","webpack:///views/widgets/goto.vue","webpack:///./views/widgets/goto.vue?f184","webpack:///./views/widgets/goto.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","unsign","_v","_e","signed","preventDefault","sign","directives","name","rawName","value","expression","attrs","domProps","target","composing","username","password","goto","path","_s","markeddown","staticRenderFns","Renderer","Renderers","link","bind","href","title","text","load","watch","computed","$store","getters","all","state","majig","menu","markdown","renderer","methods","dispatch","status","then","$router","push","catch","error","errors","component"],"mappings":"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","file":"js/chunk-2d21e30d.bdacbb67.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[(_vm.signed)?_c('div',{staticClass:\"postbody\"},[_c('div',{staticClass:\"horzer\"},[_c('a',{staticClass:\"full\",on:{\"click\":function($event){return _vm.unsign()}}},[_vm._v(\" SignOut \")])])]):_vm._e(),(!_vm.signed)?_c('div',{staticClass:\"postbody former\"},[_c('div',{staticClass:\"bodyer para\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.sign()}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"username\",\"autocorrect\":\"off\",\"autocapitalize\":\"none\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"password\",\"autocorrect\":\"off\",\"autocapitalize\":\"none\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_c('input',{attrs:{\"type\":\"submit\",\"value\":\"SignIn\"}})])])]):_vm._e(),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"subbody\"},[_c('div',{staticClass:\"bodyer para\"},[_c('h1',[_vm._v(\"GoTo\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.goto()}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.path),expression:\"path\"}],attrs:{\"type\":\"text\",\"placeholder\":\"path\",\"inputmode\":\"url\",\"autocorrect\":\"off\",\"autocapitalize\":\"none\"},domProps:{\"value\":(_vm.path)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.path=$event.target.value}}}),_c('input',{attrs:{\"type\":\"submit\",\"value\":\"GoTo\"}})]),_c('h1',[_vm._v(\"Jump\"),(_vm.signed)?_c('span',[_c('a',{attrs:{\"href\":\"#/menu/published\"}},[_vm._v(\" Published\")]),_vm._v(\" â€¢ \"),_c('a',{attrs:{\"href\":\"#/menu/concealed\"}},[_vm._v(\" Concealed\")])]):_vm._e()]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.markeddown)}})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- Copyright (C) 2020 BenVacha/SoloMajig -->\n\n<template>\n<div class=\"body\">\n\n  <!-- -->\n  <div class=\"postbody\"\n    v-if=\"signed\">\n    <div class=\"horzer\">\n      <a class=\"full\"\n        @click=\"unsign()\">\n        SignOut\n      </a>\n    </div>\n  </div>\n\n  <!-- -->\n  <div class=\"postbody former\"\n    v-if=\"!signed\">\n  <div class=\"bodyer para\">\n    <form @submit.prevent=\"sign()\">\n      <input type=\"text\"\n        v-model=\"username\"\n        placeholder=\"username\"\n        autocorrect=\"off\"\n        autocapitalize=\"none\"\n      />\n      <input type=\"password\"\n        v-model=\"password\"\n        placeholder=\"password\"\n        autocorrect=\"off\"\n        autocapitalize=\"none\"\n      />\n      <input type=\"submit\"\n        value=\"SignIn\"\n      />\n    </form>\n  </div>\n  </div>\n\n  <!-- -->\n  <div class=\"body\">\n  <div class=\"subbody\">\n  <div class=\"bodyer para\">\n    <h1>GoTo</h1>\n    <form @submit.prevent=\"goto()\">\n      <input type=\"text\"\n        v-model=\"path\"\n        placeholder=\"path\"\n        inputmode=\"url\"\n        autocorrect=\"off\"\n        autocapitalize=\"none\"\n      />\n      <input type=\"submit\"\n        value=\"GoTo\" />\n    </form>\n    <h1>Jump<span v-if=\"signed\">\n      <a href=\"#/menu/published\">\n        Published</a> &bull;\n      <a href=\"#/menu/concealed\">\n        Concealed</a>\n    </span></h1>\n    <div v-html=\"markeddown\">\n    </div>\n  </div>\n  </div>\n  </div>\n\n</div>\n</template>\n\n<!-- -->\n\n<script>\nimport Marked from 'marked';\n/* */\nconst Renderer = new Marked.Renderer();\nconst Renderers = {\n  link: Renderer.link.bind(Renderer),\n};\nRenderer.link = (href, title, text) => {\n  if(href[0] === '/') {\n    href = '#' + href;\n  } else if(href[0] !== '#') {\n    href = '#/' + href;\n  }\n  return Renderers.link(href, title, text);\n};\n/* */\nexport default {\n  data () {\n    return {\n      path: '',\n      username: '',\n      password: '',\n    };\n  },\n  created () {\n    this.load();\n  },\n  watch: {\n    'signed': 'load',\n  },\n  computed: {\n    signed () {\n      return this.$store.getters[\n        'token/signed'];\n    },\n    menu () {\n      return this.signed ? '/menu/concealed'\n        : '/menu/published';\n    },\n    majig () {\n      const all = this.$store.state.majig.all;\n      return all[this.menu] || {};\n    },\n    markeddown () {\n      return Marked(this.majig.markdown ||\n        '- [root](/)',\n        { renderer: Renderer });\n    },\n  },\n  methods: {\n    goto () {\n      if(this.path[0] !== '/') {\n        this.path = '/' + this.path;\n      }\n      this.$store.dispatch(\n        'widgets/notify', {\n        status: 'going'\n      }).then(() => {\n        return this.$router.push(\n          this.path\n        ).catch(error => {});\n      }).then(() => {\n        this.path = '';\n        return this.$store.dispatch(\n          'widgets/stash', {});\n      });\n    },\n    load () {\n      return this.$store.dispatch(\n        'majig/load', {\n        path: this.menu,\n      }).then((majig) => {\n      }).catch((errors) => {\n      });\n    },\n    sign () {\n      this.$store.dispatch(\n        'widgets/notify', {\n        status: 'signing',\n      }).then(() => {\n        return this.$store.dispatch(\n          'token/sign', {\n          username: this.username,\n          password: this.password,\n        }).catch((errors) => {\n          throw errors[0];\n        });\n      }).then(() => {\n        this.password = '';\n        return this.$store.dispatch(\n          'widgets/stash', {});\n      }).catch(error => {\n        this.password = '';\n        this.$store.dispatch(\n          'widgets/notify', {\n          status: error.title\n        });\n      });\n    },\n    unsign () {\n      this.$store.dispatch(\n        'majig/clear', {\n      }).then(() => {\n        return this.$store.dispatch(\n          'majigs/clear', {});\n      }).then(() => {\n        return this.$store.dispatch(\n          'token/clear', {});\n      }).then(() => {\n        return this.$store.dispatch(\n          'widgets/stash', {});\n      }).catch(error => {\n        this.$store.dispatch(\n          'widgets/notify', {\n          status: error.title\n        });\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goto.vue?vue&type=template&id=7466f85e&\"\nimport script from \"./goto.vue?vue&type=script&lang=js&\"\nexport * from \"./goto.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}